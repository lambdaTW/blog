<!doctype html><html lang=en><head><title>AWS Architecture Study Buzzdial :: Lambda</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="簡介 Buzzdial 是一家製作電視 Live 節目即時互動的公司，可以想像主持人問答，在家中看電視的你也可以使用 App 與其他相同收看電視的人們互相交流，目前已經找不到網站，看起來應該是已經收掉了，但是還是可以找到相關資訊
遇到的問題 當遇某一特殊事件，導致大量使用者在同一時間使用服務時，需要保證網路以及伺服器可以負荷，並且該特殊事件可能不會天天發生，如果使用傳統架構會需要大量的初始建構成本
導入 AWS 的架構 架構拆想 可以看到 Buzzdial 使用了兩個分開的 ASG (auto scale group)，一個是做 Web，另一個是做管理的部分
第一次猜想 可以想像，電視製作或是主持人可以透過 API 去發送事件廣播 (broadcast)，讓所有使用者去看到或是被通知有一個互動發生 (例如：新的題目) Web App 中的 Deamon 可以透過 Logging DB 來通知使用者有新的事件 第二次猜想 We queue those records and store them in our databases to allow us to report back to clients on the success of their broadcast event, and also provide detailed business reports that we review internally."><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=/blog/aws-architecture-study-buzzdial/><link rel=stylesheet href=/style.css><link rel="shortcut icon" href=/img/theme-colors/orange.png><link rel=apple-touch-icon href=/img/theme-colors/orange.png><meta name=twitter:card content="summary"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="AWS Architecture Study Buzzdial"><meta property="og:description" content="簡介 Buzzdial 是一家製作電視 Live 節目即時互動的公司，可以想像主持人問答，在家中看電視的你也可以使用 App 與其他相同收看電視的人們互相交流，目前已經找不到網站，看起來應該是已經收掉了，但是還是可以找到相關資訊
遇到的問題 當遇某一特殊事件，導致大量使用者在同一時間使用服務時，需要保證網路以及伺服器可以負荷，並且該特殊事件可能不會天天發生，如果使用傳統架構會需要大量的初始建構成本
導入 AWS 的架構 架構拆想 可以看到 Buzzdial 使用了兩個分開的 ASG (auto scale group)，一個是做 Web，另一個是做管理的部分
第一次猜想 可以想像，電視製作或是主持人可以透過 API 去發送事件廣播 (broadcast)，讓所有使用者去看到或是被通知有一個互動發生 (例如：新的題目) Web App 中的 Deamon 可以透過 Logging DB 來通知使用者有新的事件 第二次猜想 We queue those records and store them in our databases to allow us to report back to clients on the success of their broadcast event, and also provide detailed business reports that we review internally."><meta property="og:url" content="/blog/aws-architecture-study-buzzdial/"><meta property="og:site_name" content="Lambda"><meta property="og:image" content="img/favicon/%!s().png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><meta property="article:section" content="architecture"><meta property="article:published_time" content="2022-10-26 21:21:46 +0800 +0800"></head><body><div class="container center headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>Lambda</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/>Home</a></li><li><a href=/blog/>Blog</a></li><li><a href=/categories/>Categories</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/>Home</a></li><li><a href=/blog/>Blog</a></li><li><a href=/categories/>Categories</a></li></ul></nav></header><div class=content><article class=post><h1 class=post-title><a href=/blog/aws-architecture-study-buzzdial/>AWS Architecture Study Buzzdial</a></h1><div class=post-meta><time class=post-date>2022-10-26 ::</time></div><span class=post-tags>#<a href=/tags/architecture/>architecture</a>&nbsp;</span><div class=post-content><div><h2 id=簡介>簡介<a href=#簡介 class=hanchor arialabel=Anchor>&#8983;</a></h2><p>Buzzdial 是一家製作電視 Live 節目即時互動的公司，可以想像主持人問答，在家中看電視的你也可以使用 App 與其他相同收看電視的人們互相交流，目前已經找不到網站，看起來應該是已經收掉了，但是還是可以找到<a href="https://nz.linkedin.com/company/buzzdial?trk=public_profile_experience-item_profile-section-card_image-click">相關資訊</a></p><h2 id=遇到的問題>遇到的問題<a href=#遇到的問題 class=hanchor arialabel=Anchor>&#8983;</a></h2><p>當遇某一特殊事件，導致大量使用者在同一時間使用服務時，需要保證網路以及伺服器可以負荷，並且該特殊事件可能不會天天發生，如果使用傳統架構會需要大量的初始建構成本</p><h2 id=導入-aws-的架構>導入 AWS 的架構<a href=#導入-aws-的架構 class=hanchor arialabel=Anchor>&#8983;</a></h2><figure class=left><img src=https://d1.awsstatic.com/architecture-diagrams/customers/buzzdial-arch-diag.1cd13ca7855b730ce72977f106964923745b5ca2.png></figure><h3 id=架構拆想>架構拆想<a href=#架構拆想 class=hanchor arialabel=Anchor>&#8983;</a></h3><p>可以看到 Buzzdial 使用了兩個分開的 ASG (auto scale group)，一個是做 Web，另一個是做管理的部分</p><h4 id=第一次猜想>第一次猜想<a href=#第一次猜想 class=hanchor arialabel=Anchor>&#8983;</a></h4><ol><li>可以想像，電視製作或是主持人可以透過 API 去發送事件廣播 (broadcast)，讓所有使用者去看到或是被通知有一個互動發生 (例如：新的題目)</li><li>Web App 中的 Deamon 可以透過 Logging DB 來通知使用者有新的事件</li></ol><h4 id=第二次猜想>第二次猜想<a href=#第二次猜想 class=hanchor arialabel=Anchor>&#8983;</a></h4><blockquote><p>We queue those records and store them in our databases to allow us to report back to clients on the success of their broadcast event, and also provide detailed business reports that we review internally. In addition, we monitor our application in real time as it scales up and down to check performance and error rates, and undertake extensive and aggressive load testing to predetermine its capabilities. If there any concerns, we rework the application and AWS infrastructure accordingly</p></blockquote><ol><li>很明顯 Logging DB 主要是用來留存每次互動，所以想應該有少畫一條線，是 Broadcast Tool 使用 App DB，或是利用某些方式去 Trigger App 端的更新</li><li>在調整架構時使用了以前的資料</li></ol><h4 id=有趣的點>有趣的點<a href=#有趣的點 class=hanchor arialabel=Anchor>&#8983;</a></h4><blockquote><p>the service provider can still scale in 10 to 15 minutes to support 10s of thousands of concurrent users.</p></blockquote><ul><li>很明顯架構是使用比較傳統的 EC2 才會導致增加流量要等那麼久</li></ul><blockquote><p>Buzzdial would have also required six full-time equivalent administrators to manage 60 physical servers, costing about US$350,000, while the AWS infrastructure requires about 20 percent of a single full-time employee’s time to administer.</p></blockquote><ul><li>IT 人力成本在國外真的很高</li></ul><blockquote><p>Caching is undertaken at the Amazon EC2 level to prevent the database infrastructure from being overloaded during periods of high demand</p></blockquote><ul><li>使用 Local cache 而不是 redis 之類叢集快取</li></ul><h3 id=架構之我建>架構之我建<a href=#架構之我建 class=hanchor arialabel=Anchor>&#8983;</a></h3><h4 id=amazon-kinesis>Amazon Kinesis<a href=#amazon-kinesis class=hanchor arialabel=Anchor>&#8983;</a></h4><p>在這個年代，如果要重新製作類似的軟體服務，可以簡單使用 <a href=https://aws.amazon.com/tw/solutions/implementations/aws-streaming-data-solution-for-amazon-kinesis/>Amazon Kinesis</a> 來達成，不僅在 streaming 的部分直接幫你做掉，還可以紀錄並分析使用狀況，最後在資料整合的部分也可以使用 Kinesis Data Analytics 來達成<figure class=left><img src=https://d1.awsstatic.com/Solutions/Solutions%20Category%20Template%20Draft/Solution%20Architecture%20Diagrams/aws-streaming-data-using-api-gateway-architecture.1b9d28f061fe84385cb871ec58ccad18c7265d22.png></figure></p><h4 id=out-of-aws>Out of AWS<a href=#out-of-aws class=hanchor arialabel=Anchor>&#8983;</a></h4><p>如果是比較 general 的方法，我想我會使用現在比較通用的 event sourcing 的方式，搭配讀寫分離來製作這一個軟體服務</p><p><img src=/img/2022/10/MyBuzzdialArchitecture.svg alt="My Buzzdial Architecture"></p><h2 id=ref>Ref<a href=#ref class=hanchor arialabel=Anchor>&#8983;</a></h2><p><a href=https://aws.amazon.com/solutions/case-studies/buzzdial/>Source of AWS case study</a></p></div></div><div class=pagination><div class=pagination__title><span class=pagination__title-h></span><hr></div><div class=pagination__buttons><span class="button previous"><a href=/blog/aws-architecture-mobileye/><span class=button__icon>←</span>
<span class=button__text>AWS Architecture Study Mobileye</span></a></span>
<span class="button next"><a href=/blog/python-project-5/><span class=button__text>Python Project (5) Make Automatically</span>
<span class=button__icon>→</span></a></span></div></div><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//blog-khfo0axv59.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></article></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2022 Powered by <a href=http://gohugo.io>Hugo</a></span>
<span>:: Theme made by <a href=https://twitter.com/panr>panr</a></span></div></div></footer><script type=text/javascript src=/bundle.min.js></script></div></body></html>