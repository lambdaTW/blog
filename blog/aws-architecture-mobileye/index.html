<!doctype html><html lang=en><head><title>AWS Architecture Study Mobileye :: Lambda</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="簡介 Mobileye 是提供汽車自駕 (ADAS) 的晶片以及演算法的廠商，依照影片的說明已經有七千萬車輛使用他們家的解決方案
AWS 的架構 車子透過 REST API 傳送資料到 AWS S3 S3 透過更時會觸發 SQS EKS 依照 SQS 的長度去擴增 worker 做資料前處理 EKS 處理完資料後分別送到 AWS Step Function S3 Elasticsearch CockroachDB 最後使用另一套 EKS 作為服務的介面 架構演進 Service Spark streaming, AWS EMR, KAFKA Lambda functions, 為了拆分服務 EKS serve Lambda functions 為了 Scale DB Postgres RDS RIDB, 查了很久，找不到是啥，以下是猜的 Reserved Instance (EC2) for AWS RDS 特規的商用資料庫 可能字幕有問題 為了查詢文件 (document) 使用 Elasticsearch 發現 Elasticsearch 對於經常更新不太友善，使用 CockroachDB 並且將其部署到 EKS 上面，使他們可以 auto scale 還享有高可用性 未來展望 雲端圖像處理 降低成本 Key Notes 為了節省成本，所以儘管有七千萬的車子使用該家產品，但是只有少部分的資料有打到雲端，每天約一千萬的資料量 由於 AWS Lambda 在同時執行 Lambda 是有其帳號上限的 (per account per region)，我猜是因為這樣才轉換到 EKS 上 架構是慢慢演化的 架構之我建 假設"><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=/blog/aws-architecture-mobileye/><link rel=stylesheet href=/style.css><link rel="shortcut icon" href=/img/theme-colors/orange.png><link rel=apple-touch-icon href=/img/theme-colors/orange.png><meta name=twitter:card content="summary"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="AWS Architecture Study Mobileye"><meta property="og:description" content="簡介 Mobileye 是提供汽車自駕 (ADAS) 的晶片以及演算法的廠商，依照影片的說明已經有七千萬車輛使用他們家的解決方案
AWS 的架構 車子透過 REST API 傳送資料到 AWS S3 S3 透過更時會觸發 SQS EKS 依照 SQS 的長度去擴增 worker 做資料前處理 EKS 處理完資料後分別送到 AWS Step Function S3 Elasticsearch CockroachDB 最後使用另一套 EKS 作為服務的介面 架構演進 Service Spark streaming, AWS EMR, KAFKA Lambda functions, 為了拆分服務 EKS serve Lambda functions 為了 Scale DB Postgres RDS RIDB, 查了很久，找不到是啥，以下是猜的 Reserved Instance (EC2) for AWS RDS 特規的商用資料庫 可能字幕有問題 為了查詢文件 (document) 使用 Elasticsearch 發現 Elasticsearch 對於經常更新不太友善，使用 CockroachDB 並且將其部署到 EKS 上面，使他們可以 auto scale 還享有高可用性 未來展望 雲端圖像處理 降低成本 Key Notes 為了節省成本，所以儘管有七千萬的車子使用該家產品，但是只有少部分的資料有打到雲端，每天約一千萬的資料量 由於 AWS Lambda 在同時執行 Lambda 是有其帳號上限的 (per account per region)，我猜是因為這樣才轉換到 EKS 上 架構是慢慢演化的 架構之我建 假設"><meta property="og:url" content="/blog/aws-architecture-mobileye/"><meta property="og:site_name" content="Lambda"><meta property="og:image" content="img/favicon/%!s().png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><meta property="article:section" content="architecture"><meta property="article:published_time" content="2022-11-04 21:39:03 +0800 +0800"></head><body><div class="container center headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>Lambda</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/>Home</a></li><li><a href=/blog/>Blog</a></li><li><a href=/categories/>Categories</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/>Home</a></li><li><a href=/blog/>Blog</a></li><li><a href=/categories/>Categories</a></li></ul></nav></header><div class=content><article class=post><h1 class=post-title><a href=/blog/aws-architecture-mobileye/>AWS Architecture Study Mobileye</a></h1><div class=post-meta><time class=post-date>2022-11-04 ::</time></div><span class=post-tags>#<a href=/tags/architecture/>architecture</a>&nbsp;</span><div class=post-content><div><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/5hjkSczrke4 style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><h2 id=簡介>簡介<a href=#簡介 class=hanchor arialabel=Anchor>&#8983;</a></h2><p>Mobileye 是提供汽車自駕 (ADAS) 的晶片以及演算法的廠商，依照影片的說明已經有七千萬車輛使用他們家的解決方案</p><h2 id=aws-的架構>AWS 的架構<a href=#aws-的架構 class=hanchor arialabel=Anchor>&#8983;</a></h2><p><img src=/img/2022/11/MobileyeAWSArchitecture.png alt="Mobileye Architecture"></p><ul><li>車子透過 REST API 傳送資料到 AWS S3</li><li>S3 透過更時會觸發 SQS</li><li>EKS 依照 SQS 的長度去擴增 worker 做資料前處理</li><li>EKS 處理完資料後分別送到<ul><li>AWS Step Function</li><li>S3</li><li>Elasticsearch</li><li>CockroachDB</li></ul></li><li>最後使用另一套 EKS 作為服務的介面</li></ul><h3 id=架構演進>架構演進<a href=#架構演進 class=hanchor arialabel=Anchor>&#8983;</a></h3><ul><li>Service<ul><li>Spark streaming, AWS EMR, KAFKA</li><li>Lambda functions, 為了拆分服務</li><li>EKS serve Lambda functions 為了 Scale</li></ul></li><li>DB<ul><li>Postgres RDS</li><li>RIDB, 查了很久，找不到是啥，以下是猜的<ul><li>Reserved Instance (EC2) for AWS RDS</li><li>特規的商用資料庫</li><li>可能字幕有問題</li></ul></li><li>為了查詢文件 (document) 使用 Elasticsearch</li><li>發現 Elasticsearch 對於經常更新不太友善，使用 CockroachDB 並且將其部署到 EKS 上面，使他們可以 auto scale 還享有高可用性</li></ul></li></ul><h3 id=未來展望>未來展望<a href=#未來展望 class=hanchor arialabel=Anchor>&#8983;</a></h3><ul><li>雲端圖像處理</li><li>降低成本</li></ul><h3 id=key-notes>Key Notes<a href=#key-notes class=hanchor arialabel=Anchor>&#8983;</a></h3><ul><li>為了節省成本，所以儘管有七千萬的車子使用該家產品，但是只有少部分的資料有打到雲端，每天約一千萬的資料量</li><li>由於 AWS Lambda 在同時執行 Lambda 是有其帳號上限的 (per account per region)，我猜是因為這樣才轉換到 EKS 上</li><li>架構是慢慢演化的</li></ul><h3 id=架構之我建>架構之我建<a href=#架構之我建 class=hanchor arialabel=Anchor>&#8983;</a></h3><p><img src=/img/2022/11/MyMobileyeIoTArchitecture.png alt="MyMobileye IoT Architecture"></p><p>假設</p><ul><li>5G 網路速度夠快</li><li>大家都是電動車</li></ul><p>我們就可以讓行駛中的車輛將影像分別傳送到</p><ul><li>正在充電的閒置車輛</li><li>AWS 雲端</li></ul><p>利用雲端可拓展以及先到先贏的方式，如果其他車輛已經將圖片處理完成，那我們就可以取消雲端上面的工作，用以減少成本，也可以利用基本圖像分割的方式，把大量的圖片資訊分別送給不同的閒置車輛，達到平行處理</p></div></div><div class=pagination><div class=pagination__title><span class=pagination__title-h></span><hr></div><div class=pagination__buttons><span class="button previous"><a href=/blog/aws-architecture-halter/><span class=button__icon>←</span>
<span class=button__text>AWS Architecture Study Halter</span></a></span>
<span class="button next"><a href=/blog/aws-architecture-study-buzzdial/><span class=button__text>AWS Architecture Study Buzzdial</span>
<span class=button__icon>→</span></a></span></div></div><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//blog-khfo0axv59.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></article></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2022 Powered by <a href=http://gohugo.io>Hugo</a></span>
<span>:: Theme made by <a href=https://twitter.com/panr>panr</a></span></div></div></footer><script type=text/javascript src=/bundle.min.js></script></div></body></html>