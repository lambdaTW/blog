<!doctype html><html><head><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"\/"},"articleSection":"","name":"Lambda","headline":"Lambda","description":"","inLanguage":"en","author":"","creator":"","publisher":"","accountablePerson":"","copyrightHolder":"","copyrightYear":"2020","datePublished":"2020-01-25 00:00:00 \x2b0000 UTC","dateModified":"2020-01-25 00:00:00 \x2b0000 UTC","url":"\/","wordCount":"0","keywords":["Blog"]}</script><title>Lambda</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.68.3"><meta name=description content="This blog is about Python, Golang, Django, IT etc."><meta name=twitter:card content="summary"><meta name=twitter:title content="Lambda"><meta name=twitter:description content="This blog is about Python, Golang, Django, IT etc."><meta property="og:title" content="Lambda"><meta property="og:description" content="This blog is about Python, Golang, Django, IT etc."><meta property="og:type" content="website"><meta property="og:url" content="/"><meta property="og:updated_time" content="2020-01-25T00:00:00+00:00"><meta property="og:image" content="//images/logo.png"><meta property="og:image:type" content="image/png"><meta property="og:image:width" content="512"><meta property="og:image:height" content="512"><meta itemprop=name content="Lambda"><meta itemprop=description content="This blog is about Python, Golang, Django, IT etc."><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Raleway:400,800,900|Source+Sans+Pro:400,700"><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.css><link rel=stylesheet href=/css/main.css><link rel=stylesheet href=/css/add-on.css><link rel=stylesheet href=/css/academicons.min.css><link href=//cdn.bootcss.com/highlight.js/9.11.0/styles/github.min.css rel=stylesheet type=text/css></head><body><div id=wrapper><header id=header><h1><a href=/>lambda</a></h1><nav class=links><ul><li><a href=/><i class="fa fa-home">&nbsp;</i>Home</a></li><li><a href=/blog/><i class="fa fa-newspaper-o">&nbsp;</i>Blog</a></li><li><a href=/categories/><i class="fa fa-sitemap">&nbsp;</i>Categories</a></li></ul></nav><nav class=main><ul><li id=share-nav class=share-menu style=display:none><a class=fa-share-alt href=#share-menu>Share</a></li><li class=search><a class=fa-search href=#search>Search</a><form id=search method=get action=//google.com/search><input type=text name=q placeholder=Search>
<input type=hidden name=as_sitesearch value=/></form></li><li class=menu><a class=fa-bars href=#menu>Menu</a></li></ul></nav></header><section id=menu><section><form class=search method=get action=//google.com/search><input type=text name=q placeholder=Search>
<input type=hidden name=as_sitesearch value=/></form></section><section><ul class=links><li><a href=/><h3><i class="fa fa-home">&nbsp;</i>Home</h3></a></li><li><a href=/blog/><h3><i class="fa fa-newspaper-o">&nbsp;</i>Blog</h3></a></li><li><a href=/categories/><h3><i class="fa fa-sitemap">&nbsp;</i>Categories</h3></a></li></ul></section><section class=recent-posts><div class=mini-posts><header><h3>Recent Posts</h3></header><article class=mini-post><header><h3><a href=/blog/how-to-fix-no-route-found-error-on-django-channels/>How to fix no route found error on Django Channels</a></h3><time class=published datetime=2020-01-25>January 25, 2020</time></header></article><article class=mini-post><header><h3><a href=/blog/create-a-gin-index-with-django-on-aws-rds/>Create a GIN index with Django on AWS RDS</a></h3><time class=published datetime=2019-04-26>April 26, 2019</time></header></article><article class=mini-post><header><h3><a href=/blog/closure/>Closure</a></h3><time class=published datetime=2019-04-18>April 18, 2019</time></header></article><article class=mini-post><header><h3><a href=/blog/grpc/>gRPC</a></h3><time class=published datetime=2018-11-18>November 18, 2018</time></header></article><article class=mini-post><header><h3><a href=/blog/golangquicksort/>GolangQuickSort</a></h3><time class=published datetime=2018-08-05>August 5, 2018</time></header></article><a href=/blog/ class=button>View more posts</a></div></section></section><div id=main><article class=post><header><div class=title><h2><a href=/blog/how-to-fix-no-route-found-error-on-django-channels/>How to fix no route found error on Django Channels</a></h2></div><div class=meta><time class=published datetime=2020-01-25>January 25, 2020</time>
<span class=author>lambda@lambda.tw</span><p>3 minute read</p></div></header><section id=social-share><ul class=icons><li><a href="//twitter.com/share?url=%2fblog%2fhow-to-fix-no-route-found-error-on-django-channels%2f&text=How%20to%20fix%20no%20route%20found%20error%20on%20Django%20Channels&via=" target=_blank class="share-btn twitter"><i class="fa fa-twitter"></i><p>Twitter</p></a></li><li><a href="//plus.google.com/share?url=%2fblog%2fhow-to-fix-no-route-found-error-on-django-channels%2f" target=_blank class="share-btn google-plus"><i class="fa fa-google-plus"></i><p>Google+</p></a></li><li><a href="//www.facebook.com/sharer/sharer.php?u=%2fblog%2fhow-to-fix-no-route-found-error-on-django-channels%2f" target=_blank class="share-btn facebook"><i class="fa fa-facebook"></i><p>Facebook</p></a></li><li><a href="//reddit.com/submit?url=%2fblog%2fhow-to-fix-no-route-found-error-on-django-channels%2f&title=How%20to%20fix%20no%20route%20found%20error%20on%20Django%20Channels" target=_blank class="share-btn reddit"><i class="fa fa-reddit-alien"></i><p>Reddit</p></a></li><li><a href="//www.linkedin.com/shareArticle?url=%2fblog%2fhow-to-fix-no-route-found-error-on-django-channels%2f&title=How%20to%20fix%20no%20route%20found%20error%20on%20Django%20Channels" target=_blank class="share-btn linkedin"><i class="fa fa-linkedin"></i><p>LinkedIn</p></a></li><li><a href="//www.stumbleupon.com/submit?url=%2fblog%2fhow-to-fix-no-route-found-error-on-django-channels%2f&title=How%20to%20fix%20no%20route%20found%20error%20on%20Django%20Channels" target=_blank class="share-btn stumbleupon"><i class="fa fa-stumbleupon"></i><p>StumbleUpon</p></a></li><li><a href="//www.pinterest.com/pin/create/button/?url=%2fblog%2fhow-to-fix-no-route-found-error-on-django-channels%2f&description=How%20to%20fix%20no%20route%20found%20error%20on%20Django%20Channels" target=_blank class="share-btn pinterest"><i class="fa fa-pinterest-p"></i><p>Pinterest</p></a></li><li><a href="mailto:?subject=Check out this post by lambda%40lambda.tw&body=%2fblog%2fhow-to-fix-no-route-found-error-on-django-channels%2f" target=_blank class="share-btn email"><i class="fa fa-envelope"></i><p>Email</p></a></li></ul></section><div id=content><h1 id=issue-description>Issue description</h1><p>Django Channels 對於不存在的路徑存取，全部會拋出錯誤，而不是一般性的警告處理，所以如果和我一樣在 Djangoo Channels 有裝上 Sentry ，而且伺服器在被惡意嘗試路徑時就會看到一堆 <code>ValueError: No route found for path '...'.</code> 的錯誤資訊，好處是知道被打了，壞處就是會噴錢（如果不是自己 Hosting）。</p><h1 id=fix-it>Fix it</h1><h2 id=make-handleroutenotfoundmiddleware-for-this-issue>Make <code>HandleRouteNotFoundMiddleware</code> for this issue</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python3 data-lang=python3><span style=color:#f92672>from</span> datetime <span style=color:#66d9ef>import</span> datetime
<span style=color:#f92672>from</span> logging <span style=color:#66d9ef>import</span> getLogger
<span style=color:#f92672>from</span> django.urls.exceptions <span style=color:#66d9ef>import</span> Resolver404


logger <span style=color:#f92672>=</span> getLogger(__file__)


<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>HandleRouteNotFoundMiddleware</span>:

    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>__init__</span>(self, inner):
        self<span style=color:#f92672>.</span>inner <span style=color:#f92672>=</span> inner

    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>__call__</span>(self, scope):
        <span style=color:#66d9ef>try</span>:
            inner_instance <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>inner(scope)
            <span style=color:#66d9ef>return</span> inner_instance
        <span style=color:#66d9ef>except</span> (Resolver404, <span style=color:#a6e22e>ValueError</span>) <span style=color:#66d9ef>as</span> e:
            <span style=color:#66d9ef>if</span> <span style=color:#e6db74>&#39;No route found for path&#39;</span> <span style=color:#f92672>not</span> <span style=color:#f92672>in</span> str(e) <span style=color:#f92672>and</span> \
               scope[<span style=color:#e6db74>&#34;type&#34;</span>] <span style=color:#f92672>not</span> <span style=color:#f92672>in</span> [<span style=color:#e6db74>&#39;http&#39;</span>, <span style=color:#e6db74>&#39;websocket&#39;</span>]:
                <span style=color:#66d9ef>raise</span> e

            logger<span style=color:#f92672>.</span>warning(
                f<span style=color:#e6db74>&#39;{datetime.now()} - </span><span style=color:#e6db74>{e}</span><span style=color:#e6db74> - </span><span style=color:#e6db74>{scope}</span><span style=color:#e6db74>&#39;</span>
            )

            <span style=color:#66d9ef>if</span> scope[<span style=color:#e6db74>&#34;type&#34;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;http&#34;</span>:
                <span style=color:#66d9ef>return</span> self<span style=color:#f92672>.</span>handle_http_route_error
            <span style=color:#66d9ef>elif</span> scope[<span style=color:#e6db74>&#34;type&#34;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;websocket&#34;</span>:
                <span style=color:#66d9ef>return</span> self<span style=color:#f92672>.</span>handle_ws_route_error

    <span style=color:#66d9ef>async</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>handle_ws_route_error</span>(self, receive, send):
        <span style=color:#66d9ef>await</span> send({<span style=color:#e6db74>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;websocket.close&#34;</span>})

    <span style=color:#66d9ef>async</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>handle_http_route_error</span>(self, receive, send):
        <span style=color:#66d9ef>await</span> send({
            <span style=color:#e6db74>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;http.response.start&#34;</span>,
                    <span style=color:#e6db74>&#34;status&#34;</span>: <span style=color:#ae81ff>404</span>,
                    <span style=color:#e6db74>&#34;headers&#34;</span>: {},
        })
        <span style=color:#66d9ef>await</span> send({
            <span style=color:#e6db74>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;http.response.body&#34;</span>,
            <span style=color:#e6db74>&#34;body&#34;</span>: <span style=color:#e6db74>&#34;&#34;</span>,
            <span style=color:#e6db74>&#34;more_body&#34;</span>: <span style=color:#e6db74>&#34;&#34;</span>,
        })
</code></pre></div><h2 id=usage>Usage</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python3 data-lang=python3><span style=color:#f92672>from</span> core.middleware <span style=color:#66d9ef>import</span> HandleRouteNotFoundMiddleware


application <span style=color:#f92672>=</span> ProtocolTypeRouter({
    <span style=color:#e6db74>&#39;websocket&#39;</span>: AuthMiddlewareStack(
        HandleRouteNotFoundMiddleware(
            URLRouter(
                routing<span style=color:#f92672>.</span>websocket_urlpatterns
            )
        )
    ),
    <span style=color:#e6db74>&#39;channel&#39;</span>: router,
    <span style=color:#e6db74>&#39;http&#39;</span>: HandleRouteNotFoundMiddleware(
        URLRouter(
            urlpatterns
        )
    )
})
</code></pre></div><h1 id=how-it-works>How it works</h1><h2 id=protocoltyperouter>ProtocolTypeRouter</h2><p>首先我們看到在 Django Channels 我們使用的 Router，可以看到在 <code>__init__</code> 時把我們對應表放進去，在被 <code>Call</code> 時直接把 <code>scope</code> 塞到對應的 <code>Instance</code> 一樣是執行該 <code>Instance</code> 的 <code>__call__</code> （或是該物件已經是 Function 可以直接執行）</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python3 data-lang=python3><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ProtocolTypeRouter</span>:
    <span style=color:#e6db74>&#34;&#34;&#34;
</span><span style=color:#e6db74>    Takes a mapping of protocol type names to other Application instances,
</span><span style=color:#e6db74>    and dispatches to the right one based on protocol name (or raises an error)
</span><span style=color:#e6db74>    &#34;&#34;&#34;</span>

    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>__init__</span>(self, application_mapping):
        self<span style=color:#f92672>.</span>application_mapping <span style=color:#f92672>=</span> application_mapping
        <span style=color:#66d9ef>if</span> <span style=color:#e6db74>&#34;http&#34;</span> <span style=color:#f92672>not</span> <span style=color:#f92672>in</span> self<span style=color:#f92672>.</span>application_mapping:
            self<span style=color:#f92672>.</span>application_mapping[<span style=color:#e6db74>&#34;http&#34;</span>] <span style=color:#f92672>=</span> AsgiHandler

    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>__call__</span>(self, scope):
        <span style=color:#66d9ef>if</span> scope[<span style=color:#e6db74>&#34;type&#34;</span>] <span style=color:#f92672>in</span> self<span style=color:#f92672>.</span>application_mapping:
            <span style=color:#66d9ef>return</span> self<span style=color:#f92672>.</span>application_mapping[scope[<span style=color:#e6db74>&#34;type&#34;</span>]](scope)
        <span style=color:#66d9ef>else</span>:
            <span style=color:#66d9ef>raise</span> <span style=color:#a6e22e>ValueError</span>(<span style=color:#e6db74>&#34;No application configured for scope type </span><span style=color:#e6db74>%r</span><span style=color:#e6db74>&#34;</span> <span style=color:#f92672>%</span> scope[<span style=color:#e6db74>&#34;type&#34;</span>])
</code></pre></div><h2 id=urlrouter>URLRouter</h2><p>依照上面所述說的，我們常在 <code>Protocol</code> 對應裡面放入 <code>URLRouter</code> 所以我們這裡就只要看 <code>___call__</code> 就好了，可以看到在最後 <code>else</code> 的部份，會拋出兩個錯誤，也是我們這次主要要修正的問題。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python3 data-lang=python3><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>URLRouter</span>:
    <span style=color:#e6db74>&#34;&#34;&#34;
</span><span style=color:#e6db74>    Routes to different applications/consumers based on the URL path.
</span><span style=color:#e6db74>
</span><span style=color:#e6db74>    Works with anything that has a ``path`` key, but intended for WebSocket
</span><span style=color:#e6db74>    and HTTP. Uses Django&#39;s django.conf.urls objects for resolution -
</span><span style=color:#e6db74>    url() or path().
</span><span style=color:#e6db74>    &#34;&#34;&#34;</span>
	<span style=color:#75715e># ...</span>

    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>__call__</span>(self, scope):
        <span style=color:#75715e># Get the path</span>
        path <span style=color:#f92672>=</span> scope<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#34;path_remaining&#34;</span>, scope<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#34;path&#34;</span>, <span style=color:#66d9ef>None</span>))
        <span style=color:#66d9ef>if</span> path <span style=color:#f92672>is</span> <span style=color:#66d9ef>None</span>:
            <span style=color:#66d9ef>raise</span> <span style=color:#a6e22e>ValueError</span>(<span style=color:#e6db74>&#34;No &#39;path&#39; key in connection scope, cannot route URLs&#34;</span>)
        <span style=color:#75715e># Remove leading / to match Django&#39;s handling</span>
        path <span style=color:#f92672>=</span> path<span style=color:#f92672>.</span>lstrip(<span style=color:#e6db74>&#34;/&#34;</span>)
        <span style=color:#75715e># Run through the routes we have until one matches</span>
        <span style=color:#66d9ef>for</span> route <span style=color:#f92672>in</span> self<span style=color:#f92672>.</span>routes:
            <span style=color:#66d9ef>try</span>:
                match <span style=color:#f92672>=</span> route_pattern_match(route, path)
                <span style=color:#66d9ef>if</span> match:
                    new_path, args, kwargs <span style=color:#f92672>=</span> match
                    <span style=color:#75715e># Add args or kwargs into the scope</span>
                    outer <span style=color:#f92672>=</span> scope<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#34;url_route&#34;</span>, {})
                    <span style=color:#66d9ef>return</span> route<span style=color:#f92672>.</span>callback(dict(
                        scope,
                        path_remaining<span style=color:#f92672>=</span>new_path,
                        url_route<span style=color:#f92672>=</span>{
                            <span style=color:#e6db74>&#34;args&#34;</span>: outer<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#34;args&#34;</span>, ()) <span style=color:#f92672>+</span> args,
                            <span style=color:#e6db74>&#34;kwargs&#34;</span>: {<span style=color:#f92672>**</span>outer<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#34;kwargs&#34;</span>, {}), <span style=color:#f92672>**</span>kwargs},
                        },
                    ))
            <span style=color:#66d9ef>except</span> Resolver404 <span style=color:#66d9ef>as</span> e:
                <span style=color:#66d9ef>pass</span>
        <span style=color:#66d9ef>else</span>:
            <span style=color:#66d9ef>if</span> <span style=color:#e6db74>&#34;path_remaining&#34;</span> <span style=color:#f92672>in</span> scope:
                <span style=color:#66d9ef>raise</span> Resolver404(<span style=color:#e6db74>&#34;No route found for path </span><span style=color:#e6db74>%r</span><span style=color:#e6db74>.&#34;</span> <span style=color:#f92672>%</span> path)
            <span style=color:#75715e># We are the outermost URLRouter</span>
            <span style=color:#66d9ef>raise</span> <span style=color:#a6e22e>ValueError</span>(<span style=color:#e6db74>&#34;No route found for path </span><span style=color:#e6db74>%r</span><span style=color:#e6db74>.&#34;</span> <span style=color:#f92672>%</span> path)
</code></pre></div><h2 id=middleware>Middleware</h2><p>我們要想辦法在 <code>ProtocolTypeRouter</code> 呼叫 <code>URLRouter</code> 前，想辦法抓住這個錯誤，回傳正確找不到路徑的回傳，並且寫下 Log，為此，我們參考 <code>Django Channels</code> 的 <code>Middleware</code> ，它通常被包在 <code>URLRouter</code> 外層，在 <code>consumer</code> 前後處理 <code>scope</code>，並參考其實做方法，最後自己刻一個專門處理此問題的 <code>Middleware</code>。</p><h3 id=how-django-channels-middlewares-work>How Django Channels middlewares work</h3><p>首先我們可以看到 <code>Django Channels</code> 的 <code>BaseMiddleware</code> 在 <code>__init__</code> 時，只是把它傳來的值放進 <code>inner</code> 這個變數，在被呼叫時 (<code>__call__</code>) 回傳一個可以接受 <code>receive</code> 和 <code>send</code> 的異步函數，這個函數會在連線近來時被建立，且將 <code>receive</code> 和 <code>send</code> 被丟入 <code>epoll</code> 監聽的事件內，供異步伺服器和 client 溝通。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python3 data-lang=python3><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>BaseMiddleware</span>:

    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>__init__</span>(self, inner):
        <span style=color:#e6db74>&#34;&#34;&#34;
</span><span style=color:#e6db74>        Middleware constructor - just takes inner application.
</span><span style=color:#e6db74>        &#34;&#34;&#34;</span>
        self<span style=color:#f92672>.</span>inner <span style=color:#f92672>=</span> inner

    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>__call__</span>(self, scope):
        <span style=color:#e6db74>&#34;&#34;&#34;
</span><span style=color:#e6db74>        ASGI constructor; can insert things into the scope, but not
</span><span style=color:#e6db74>        run asynchronous code.
</span><span style=color:#e6db74>        &#34;&#34;&#34;</span>
        <span style=color:#75715e># Copy scope to stop changes going upstream</span>
        scope <span style=color:#f92672>=</span> dict(scope)
        <span style=color:#75715e># Allow subclasses to change the scope</span>
        self<span style=color:#f92672>.</span>populate_scope(scope)
        <span style=color:#75715e># Call the inner application&#39;s init</span>
        inner_instance <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>inner(scope)
        <span style=color:#75715e># Partially bind it to our coroutine entrypoint along with the scope</span>
        <span style=color:#66d9ef>return</span> partial(self<span style=color:#f92672>.</span>coroutine_call, inner_instance, scope)

    <span style=color:#66d9ef>async</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>coroutine_call</span>(self, inner_instance, scope, receive, send):
        <span style=color:#e6db74>&#34;&#34;&#34;
</span><span style=color:#e6db74>        ASGI coroutine; where we can resolve items in the scope
</span><span style=color:#e6db74>        (but you can&#39;t modify it at the top level here!)
</span><span style=color:#e6db74>        &#34;&#34;&#34;</span>
        <span style=color:#66d9ef>await</span> self<span style=color:#f92672>.</span>resolve_scope(scope)
        <span style=color:#66d9ef>await</span> inner_instance(receive, send)
</code></pre></div><h1 id=ps>PS</h1><p>以上程式我也回在 <a href=https://github.com/django/daphne/issues/165#issuecomment-577024577>GitHub issue</a> 上，有任何更好的建議也希望您能發出來，幫助大家。</p></div><footer><ul class=stats><li class=categories><ul><i class="fa fa-folder"></i><li><a class=article-category-link href=/categories/django>Django</a></li><li><a class=article-category-link href=/categories/middleware>Middleware</a></li></ul></li><li class=tags><ul><i class="fa fa-tags"></i><li><a class=article-category-link href=/tags/django>Django</a></li><li><a class=article-category-link href=/tags/django-channels>Django Channels</a></li><li><a class=article-category-link href=/tags/middleware>Middleware</a></li></ul></li></ul></footer></article><article class=post><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"shortname"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></article><ul class="actions pagination"><li><a href=/blog/create-a-gin-index-with-django-on-aws-rds/ class="button big previous">Create a GIN index with Django on AWS RDS</a></li></ul><section id=share-menu><section id=social-share-nav><ul class=links><header><h3>Share this post <i class="fa fa-smile-o"></i></h3></header><li><a href="//twitter.com/share?url=%2fblog%2fhow-to-fix-no-route-found-error-on-django-channels%2f&text=How%20to%20fix%20no%20route%20found%20error%20on%20Django%20Channels&via=" target=_blank class="share-btn twitter"><i class="fa fa-twitter"></i><p>Twitter</p></a></li><li><a href="//plus.google.com/share?url=%2fblog%2fhow-to-fix-no-route-found-error-on-django-channels%2f" target=_blank class="share-btn google-plus"><i class="fa fa-google-plus"></i><p>Google+</p></a></li><li><a href="//www.facebook.com/sharer/sharer.php?u=%2fblog%2fhow-to-fix-no-route-found-error-on-django-channels%2f" target=_blank class="share-btn facebook"><i class="fa fa-facebook"></i><p>Facebook</p></a></li><li><a href="//reddit.com/submit?url=%2fblog%2fhow-to-fix-no-route-found-error-on-django-channels%2f&title=How%20to%20fix%20no%20route%20found%20error%20on%20Django%20Channels" target=_blank class="share-btn reddit"><i class="fa fa-reddit-alien"></i><p>Reddit</p></a></li><li><a href="//www.linkedin.com/shareArticle?url=%2fblog%2fhow-to-fix-no-route-found-error-on-django-channels%2f&title=How%20to%20fix%20no%20route%20found%20error%20on%20Django%20Channels" target=_blank class="share-btn linkedin"><i class="fa fa-linkedin"></i><p>LinkedIn</p></a></li><li><a href="//www.stumbleupon.com/submit?url=%2fblog%2fhow-to-fix-no-route-found-error-on-django-channels%2f&title=How%20to%20fix%20no%20route%20found%20error%20on%20Django%20Channels" target=_blank class="share-btn stumbleupon"><i class="fa fa-stumbleupon"></i><p>StumbleUpon</p></a></li><li><a href="//www.pinterest.com/pin/create/button/?url=%2fblog%2fhow-to-fix-no-route-found-error-on-django-channels%2f&description=How%20to%20fix%20no%20route%20found%20error%20on%20Django%20Channels" target=_blank class="share-btn pinterest"><i class="fa fa-pinterest-p"></i><p>Pinterest</p></a></li><li><a href="mailto:?subject=Check out this post by lambda%40lambda.tw&body=%2fblog%2fhow-to-fix-no-route-found-error-on-django-channels%2f" target=_blank class="share-btn email"><i class="fa fa-envelope"></i><p>Email</p></a></li></ul></section></section></div><section id=sidebar><section id=intro><header><h2>LAMBDA</h2><p>I AM LAMBDA</p></header><ul class=icons><li><a href=/index.xml type=application/rss+xml target=_blank title=RSS class="fa fa-rss"></a></li><li><a href=//github.com/lambdaTW target=_blank title=GitHub class="fa fa-github"></a></li><li><a href=//gitlab.com/lambdaTW target=_blank title=GitLab class="fa fa-gitlab"></a></li><li><a href=mailto:lambda@lambda.tw title=Email class="fa fa-envelope"></a></li></ul></section><section class=recent-posts><div class=mini-posts><header><h3>Recent Posts</h3></header><div class=posts-container><article class=mini-post><header><h3><a href=/blog/how-to-fix-no-route-found-error-on-django-channels/>How to fix no route found error on Django Channels</a></h3><time class=published datetime=2020-01-25>January 25, 2020</time></header></article><article class=mini-post><header><h3><a href=/blog/create-a-gin-index-with-django-on-aws-rds/>Create a GIN index with Django on AWS RDS</a></h3><time class=published datetime=2019-04-26>April 26, 2019</time></header></article><article class=mini-post><header><h3><a href=/blog/closure/>Closure</a></h3><time class=published datetime=2019-04-18>April 18, 2019</time></header></article><article class=mini-post><header><h3><a href=/blog/grpc/>gRPC</a></h3><time class=published datetime=2018-11-18>November 18, 2018</time></header></article><article class=mini-post><header><h3><a href=/blog/golangquicksort/>GolangQuickSort</a></h3><time class=published datetime=2018-08-05>August 5, 2018</time></header></article></div><a href=/blog/ class=button>View more posts</a></div></section><section id=categories><header><h3><a href=/categories/>Categories</a></h3></header><p><article><header><a href=/categories/golang/>golang</a>
<span style=float:right>5</span></header></article></p><p><article><header><a href=/categories/django/>django</a>
<span style=float:right>2</span></header></article></p><p><article><header><a href=/categories/grpc/>grpc</a>
<span style=float:right>1</span></header></article></p><p><article><header><a href=/categories/middleware/>middleware</a>
<span style=float:right>1</span></header></article></p><p><article><header><a href=/categories/python/>python</a>
<span style=float:right>1</span></header></article></p></section><section id=mini-bio><h3>About</h3><p>This blog show everything</p><a href=/about/ class=button>Learn More</a></section><section id=footer><ul class=icons><li><a href=/index.xml type=application/rss+xml target=_blank title=RSS class="fa fa-rss"></a></li><li><a href=//github.com/lambdaTW target=_blank title=GitHub class="fa fa-github"></a></li><li><a href=//gitlab.com/lambdaTW target=_blank title=GitLab class="fa fa-gitlab"></a></li><li><a href=mailto:lambda@lambda.tw title=Email class="fa fa-envelope"></a></li></ul><p class=copyright>&copy; 2020
Lambda
.
Powered by <a href=//gohugo.io target=_blank>Hugo</a></p></section></section></div><a id=back-to-top href=# class="fa fa-arrow-up fa-border fa-2x"></a><script src=//cdn.bootcss.com/highlight.js/9.11.0/highlight.min.js></script><script src=//cdn.bootcss.com/highlight.js/9.11.0/languages/r.min.js></script><script src=//cdn.bootcss.com/highlight.js/9.11.0/languages/yaml.min.js></script><script src=//cdn.bootcss.com/highlight.js/9.11.0/languages/css.min.js></script><script>hljs.configure({languages:[]});hljs.initHighlightingOnLoad();</script><script src=https://code.jquery.com/jquery-3.2.1.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/skel/3.0.1/skel.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.js></script><script src=/js/util.js></script><script src=/js/main.js></script><script src=/js/backToTop.js></script><script>hljs.initHighlightingOnLoad();</script><script src=//yihui.name/js/math-code.js></script><script async src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>